{% extends "layout.html" %}
{% block content %}
<div class="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-indigo-100 p-8">
  
  <!-- Header / Hero Section -->
  <div class="max-w-7xl mx-auto mb-10 text-center">
    <h1 class="text-4xl font-extrabold text-indigo-700 tracking-wide">Internship Management Dashboard</h1>
    <p class="text-gray-600 mt-2 text-lg">
      Add, manage, and explore internship opportunities efficiently with our interactive platform.
    </p>
    <div class="mt-6 flex justify-center gap-4">
      <a href="{{ url_for('candidates_view') }}" class="px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow">View Candidates</a>
      <a href="{{ url_for('match_view') }}" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow">Run Match Engine</a>
    </div>
  </div>

  <!-- Overview Cards -->
  <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-6 mb-10">
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition-all">
      <h3 class="text-lg font-semibold text-indigo-700">Total Internships</h3>
      <p class="text-3xl font-bold mt-2 text-gray-800">{{ internships|length }}</p>
    </div>
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition-all">
      <h3 class="text-lg font-semibold text-indigo-700">Active Candidates</h3>
      <p class="text-3xl font-bold mt-2 text-gray-800">{{ candidates|length }}</p>
    </div>
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition-all">
      <h3 class="text-lg font-semibold text-indigo-700">Pending Matches</h3>
      <p class="text-3xl font-bold mt-2 text-gray-800">5</p>
    </div>
  </div>

  <!-- Internship Form -->
  <div class="max-w-7xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-100">
    <h2 class="text-2xl font-semibold text-indigo-700 mb-4">Add a New Internship</h2>
    <form method="post" class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <input name="title" placeholder="Internship Title" class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-400" required>
      <input name="skills" placeholder="Required Skills (comma separated)" class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-400" required>
      <select name="level" class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-400">
        <option value="Intern">Intern</option>
        <option value="Junior PM">Junior PM</option>
        <option value="Mid-Level">Mid-Level</option>
        <option value="Senior Intern">Senior Intern</option>
      </select>
      <textarea name="description" placeholder="Brief internship description..." class="md:col-span-3 border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"></textarea>
      <div class="md:col-span-3 flex justify-end">
        <button class="py-2 px-6 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow transition-all">Add Internship</button>
      </div>
    </form>
  </div>

  <!-- Filter + Internship Table -->
  <div class="max-w-7xl mx-auto mt-10 bg-white p-8 rounded-xl shadow-lg border border-gray-100">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold text-indigo-700">Internship Listings</h2>
      <input placeholder="Search by title or skill..." class="border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-400 w-60">
    </div>
    <table class="w-full border-collapse">
      <thead>
        <tr class="bg-indigo-100 text-indigo-800 text-sm uppercase">
          <th class="py-3 px-4 text-left">Title</th>
          <th class="py-3 px-4">Skills</th>
          <th class="py-3 px-4">Level</th>
          <th class="py-3 px-4">Description</th>
        </tr>
      </thead>
      <tbody>
        {% for i in internships %}
        <tr class="border-t hover:bg-indigo-50 transition-all">
          <td class="py-3 px-4 font-medium">{{ i.title }}</td>
          <td class="py-3 px-4 text-gray-700">{{ i.required_skills }}</td>
          <td class="py-3 px-4">{{ i.level }}</td>
          <td class="py-3 px-4 text-gray-500">{{ i.description or "No description available." }}</td>
        </tr>
        {% else %}
        <tr>
          <td colspan="4" class="text-center text-gray-500 py-6">No internships available. Add one above!</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>


</div>
{% endblock %}
